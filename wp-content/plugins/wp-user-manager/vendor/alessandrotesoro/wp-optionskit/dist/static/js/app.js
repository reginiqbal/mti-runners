webpackJsonp([1],{"+TBs":function(t,e){},"+drO":function(t,e,s){"use strict";var n={name:"formit-multicheckbox",mixins:[s("JHA3").a],data:function(){return{checkedItems:[]}},created:function(){this.checkedItems=this.currentValue},methods:{isSelected:function(t){return this.currentValue.includes(t)},onChange:function(t){!0===t.target.checked?this.checkedItems.push(t.target.value):this.checkedItems.splice(this.checkedItems.indexOf(t.target.value),1),this.$emit("input",this.checkedItems)}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"formit-multicheckbox-wrap"},t._l(t.selectOptions,function(e,n){return s("span",{key:n},[s("label",[s("input",t._b({ref:"input",refInFor:!0,attrs:{type:"checkbox",name:t.name},domProps:{value:n,checked:t.isSelected(n)},on:{change:t.onChange}},"input",t.attributes,!1)),t._v("\n        "+t._s(e))]),s("br")])}))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);e.a=a.exports},"1FAl":function(t,e,s){"use strict";var n={name:"formit-checkbox",mixins:[s("JHA3").a]},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"formit-checkbox-wrapper"},[e("label",{attrs:{for:this.name}},[e("input",this._b({ref:"input",attrs:{type:"checkbox",name:this.name},domProps:{checked:this.currentValue},on:{change:this.handleChange}},"input",this.attributes,!1))])])},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);e.a=a.exports},"4wDe":function(t,e,s){"use strict";var n={name:"wp-notice",props:{type:String,alternative:Boolean,dismissible:Boolean},computed:{classes:function(){return["vue-wp-notice","notice-"+this.type,this.alternative?"is-alt":"",this.dismissible?"is-dismissible":""]}},data:function(){return{closed:!1}},methods:{close:function(t){this.closed=!0,this.$emit("on-close",t)}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.closed?t._e():s("div",{class:t.classes},[s("p",[t._t("default")],2),t._v(" "),t.dismissible?s("button",{staticClass:"notice-dismiss",attrs:{type:"button"},on:{click:t.close}},[s("span",{staticClass:"screen-reader-text"},[t._v("Dismiss this notice.")])]):t._e()])},staticRenderFns:[]};var a=s("VU/8")(n,i,!1,function(t){s("D0GN")},null,null);e.a=a.exports},BNf6:function(t,e){},D0GN:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),i=s("fZjL"),a=s.n(i),r=s("jnm5"),l={name:"App",data:function(){return{pageTitle:this.$optionsKitSettings.page_title,imgURL:this.$optionsKitSettings.logo,actionButtons:this.$optionsKitSettings.buttons,saveLabel:this.$optionsKitSettings.labels.save,successMessage:this.$optionsKitSettings.labels.success,errorMessage:this.$optionsKitSettings.labels.error,errorLabels:String,items:[],mainItems:[],isMainTab:Boolean,success:!1,model:this.$optionsKitSettings.options,form:new r.a}},created:function(){var t=this;this.detectMainTab(),this.$router.options.routes.forEach(function(e){e.name&&t.items.push({name:e.name,path:e.path,children:e.children})})},watch:{$route:function(){this.detectMainTab(),this.success=!1}},methods:{detectMainTab:function(){void 0===this.$router.currentRoute.meta.id?this.isMainTab=!1:this.isMainTab=!0},submit:function(){var t=this;this.success=!1,this.model.verifynonce=this.$optionsKitSettings.verifynonce,this.form.submit("post",this.$optionsKitSettings.rest_url+"records",this.model,this.$optionsKitSettings.nonce).then(function(e){t.success=!0,t.model=e,document.body.scrollTop=document.documentElement.scrollTop=0}).catch(function(e){var s=t.form.errorsData,n="";a()(s).map(function(t,e){s[t].label&&(n+='"'+s[t].label+'", ')}),t.errorLabels=n.substring(0,n.length-2),document.body.scrollTop=document.documentElement.scrollTop=0})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"optionskit-panel-container wrap",attrs:{id:"optionskit-panel"}},[s("form",{staticClass:"opk-form",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("section",{attrs:{id:"optionskit-topbar"}},[s("h1",[t.imgURL?s("img",{attrs:{src:t.imgURL}}):t._e(),t._v(t._s(t.pageTitle))]),t._v(" "),t.actionButtons.length>0?s("ul",{staticClass:"title-links"},t._l(t.actionButtons,function(e){return s("li",{key:e.url},[s("a",{staticClass:"page-title-action",attrs:{href:e.url}},[t._v(t._s(e.title))])])})):t._e(),t._v(" "),s("div",{staticClass:"save-area"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.form.isPending,expression:"form.isPending"}],staticClass:"spinner is-active opk-spinner"}),t._v(" "),s("input",{staticClass:"button button-primary",attrs:{type:"submit",disabled:t.form.isPending},domProps:{value:t.saveLabel}})]),t._v(" "),!0===t.success?s("wp-notice",{attrs:{type:"success",dismissible:"",alternative:""}},[s("strong",[t._v(t._s(t.successMessage))])]):t._e(),t._v(" "),t.form.errors.any()?s("wp-notice",{attrs:{type:"error",dismissible:"",alternative:""}},[s("strong",[t._v(t._s(t.errorMessage)+" "+t._s(t.errorLabels))])]):t._e()],1),t._v(" "),s("div",{staticClass:"optionskit-navigation-wrapper"},[s("div",{staticClass:"wp-filter",attrs:{id:"optionskit-navigation"}},[s("ul",{staticClass:"filter-links"},t._l(t.items,function(e){return s("li",{key:e.path},[e.name?s("router-link",{attrs:{to:e.path}},[t._v(t._s(e.name))]):t._e()],1)}))])]),t._v(" "),s("router-view",{attrs:{model:t.model,form:t.form}}),t._v(" "),t.isMainTab?s("router-view",{attrs:{name:"fields",model:t.model,form:t.form}}):t._e(),t._v(" "),s("button",{staticClass:"button button-primary opk-submit",attrs:{type:"submit",disabled:t.form.isPending}},[t._v(t._s(t.saveLabel))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.form.isPending,expression:"form.isPending"}],staticClass:"spinner is-active opk-spinner"})],1)])},staticRenderFns:[]};var c=s("VU/8")(l,o,!1,function(t){s("+TBs")},null,null).exports,u=s("/ocq"),p={name:"OptionsKitSubSections",props:{sections:[Object,Array,Boolean],model:{},form:{},parentName:String,parentPath:String}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"optionskit-sub-sections-wrapper"},[t.sections.length>0?s("div",{staticClass:"optionskit-subnav"},[s("ul",[s("li",[s("router-link",{attrs:{to:t.parentPath}},[t._v(t._s(t.parentName))]),s("span",[t._v("|")])],1),t._v(" "),t._l(t.sections,function(e){return s("li",{key:e.path},[e.name?s("router-link",{attrs:{to:e.path}},[t._v(t._s(e.name))]):t._e(),s("span",[t._v("|")])],1)})],2)]):t._e(),t._v(" "),s("router-view",{attrs:{model:t.model,form:t.form}})],1)},staticRenderFns:[]};var m=s("VU/8")(p,d,!1,function(t){s("ViC2")},null,null).exports,h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"optionskit-form-wrapper"},[s("table",{staticClass:"form-table"},t._l(t.fields,function(e){return s("tr",{key:e.id,class:{"has-error":t.form.errors.has(e.id)}},[s("th",{attrs:{scope:"row"}},[s("label",{attrs:{for:e.id}},[t._v(t._s(e.name))])]),t._v(" "),s("td",[s(t.getFieldComponentName(e.type),{tag:"component",class:t.classes(e.type),attrs:{field:e},model:{value:t.model[e.id],callback:function(s){t.$set(t.model,e.id,s)},expression:"model[field.id]"}}),t._v(" "),e.desc?s("p",{staticClass:"description"},[t._v(t._s(e.desc))]):t._e(),t._v(" "),s("wp-notice",{directives:[{name:"show",rawName:"v-show",value:t.form.errors.has(e.id),expression:"form.errors.has(field.id)"}],attrs:{type:"error",alternative:""}},[s("strong",[t._v(t._s(t.form.errors.get(e.id)))])])],1)])}))])},staticRenderFns:[]},f=s("VU/8")({name:"fields-wrapper",props:{fields:{},model:{},form:{}},methods:{classes:function(t){return["opk-field","text"==t?"regular-text":""]},getFieldComponentName:function(t){return"formit-"+t}}},h,!1,null,null,null).exports;n.a.use(u.a);var v=[];v.push({path:"/",redirect:a()(optionsKitSettings.tabs)[0]}),a()(optionsKitSettings.tabs).forEach(function(t){var e="/"+t,s=optionsKitSettings.sections[t],n=[];void 0!==s&&a()(s).forEach(function(t){n.push({path:e+"/"+t,name:s[t],component:f,props:{fields:optionsKitSettings.settings[t]}})}),v.push({path:e,name:optionsKitSettings.tabs[t],components:{default:m,fields:f},meta:{id:e.substring(1)},props:{default:{sections:n,parentPath:e,parentName:optionsKitSettings.tabs[t]},fields:{fields:optionsKitSettings.settings[e.substring(1)]}},children:n})});var b=new u.a({routes:v}),_=s("zrma"),g=s("tkJY"),k={name:"formit-file",mixins:[_.a],data:function(){return{selectFile:this.$optionsKitSettings.labels.upload,uploader:{}}},created:function(){var t=wp.media({title:this.selectFile,library:{type:"image"},button:{text:this.selectFile},multiple:!1});this.uploader=t},methods:{openMedia:function(){var t=this.uploader,e=this;t.on("select",function(){var s=t.state().get("selection").first().toJSON();e.setFile(s.url)}),t.open()},setFile:function(t){this.$emit("input",t)}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"opk-upload-field-wrapper"},[s("input",t._b({ref:"input",staticClass:"regular-text",attrs:{type:"text",name:t.name},domProps:{value:t.currentValue},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"input",t.attributes,!1)),t._v(" "),s("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(e){t.openMedia()}}},[s("span",{staticClass:"dashicons dashicons-plus"}),t._v(t._s(t.selectFile))])])},staticRenderFns:[]},C=s("VU/8")(k,x,!1,null,null,null).exports,S=s("RUzx"),w={name:"formit-multiselect",components:{Multiselect:s.n(S).a},props:{field:{}},data:function(){return{selected:null,multiple:this.isMultiple(),selectLabel:this.getLabel("selectLabel"),placeholder:this.getLabel("placeholder"),SelectedLabel:this.getLabel("SelectedLabel"),deselectLabel:this.getLabel("deselectLabel"),options:this.field.options}},mounted:function(){var t=this.$optionsKitSettings.options[this.field.id],e=this.field.options,s=[];if(t instanceof Array)t.forEach(function(t){var n=e.filter(function(e){return e.value==t});s.push({label:n[0].label,value:n[0].value})}),this.selected=s;else if(""==t)this.selected=null;else{var n=e.filter(function(e){return e.value==t});s.push({label:n[0].label,value:n[0].value}),this.selected=s}},methods:{getLabel:function(t){return this.field.labels?this.field.labels[t]:this.$optionsKitSettings.labels.multiselect[t]},isMultiple:function(){return!!this.field.multiple},triggerChange:function(t){var e=t;!0===this.multiple?(e=[],t.forEach(function(t){e.push(t.value)})):e=null===e?null:e.value,this.$emit("input",e)}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"opk-multiselect-field-wrapper"},[s("multiselect",{attrs:{options:t.options,multiple:t.multiple,selectLabel:t.selectLabel,placeholder:t.placeholder,SelectedLabel:t.SelectedLabel,deselectLabel:t.deselectLabel,"track-by":"value",label:"label"},on:{input:t.triggerChange},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)},staticRenderFns:[]};var $=s("VU/8")(w,y,!1,function(t){s("BNf6")},null,null).exports;n.a.use(_.b),n.a.use(g.a),n.a.component("formit-file",C),n.a.component("formit-multiselect",$),n.a.config.productionTip=!1,n.a.prototype.$optionsKitSettings=optionsKitSettings,new n.a({el:"#optionskit-page",router:b,components:{App:c},template:"<App/>"})},ViC2:function(t,e){},WBSg:function(t,e,s){"use strict";var n={name:"formit-text",mixins:[s("JHA3").a]},i={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",t._b({ref:"input",attrs:{type:"text",name:t.name},domProps:{value:t.currentValue},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"input",t.attributes,!1))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);e.a=a.exports},hWF4:function(t,e,s){"use strict";var n={name:"formit-textarea",mixins:[s("JHA3").a]},i={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",t._b({ref:"input",attrs:{type:"text",name:t.name,cols:"50",rows:"5"},domProps:{value:t.currentValue},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"textarea",t.attributes,!1))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);e.a=a.exports},qpkK:function(t,e,s){"use strict";var n={name:"formit-radio",mixins:[s("JHA3").a],data:function(){return{checkedItems:[]}},created:function(){this.checkedItems=this.currentValue},methods:{isSelected:function(t){return this.currentValue.includes(t)}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"formit-radio-wrap"},t._l(t.selectOptions,function(e,n){return s("span",{key:n},[s("label",[s("input",t._b({ref:"input",refInFor:!0,attrs:{type:"radio",name:t.name},domProps:{value:n,checked:t.isSelected(n)},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"input",t.attributes,!1)),t._v("\n        "+t._s(e))]),s("br")])}))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);e.a=a.exports},ssIX:function(t,e,s){"use strict";var n={name:"formit-select",mixins:[s("JHA3").a]},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("select",t._b({ref:"input",attrs:{name:t.name},domProps:{value:t.currentValue},on:{input:t.handleInput,change:t.handleChange,focus:t.handleFocus,blur:t.handleBlur}},"select",t.attributes,!1),t._l(t.selectOptions,function(e,n){return s("option",{key:n,domProps:{value:n}},[t._v("\n            "+t._s(e)+"\n        ")])}))},staticRenderFns:[]},a=s("VU/8")(n,i,!1,null,null,null);e.a=a.exports}},["NHnr"]);
//# sourceMappingURL=app.js.map